(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{10:function(t,e,n){t.exports={form:"ContactForm_form__cC2zk",label:"ContactForm_label__1zJ69",input:"ContactForm_input__2m91q",button:"ContactForm_button__1qT_y"}},19:function(t,e,n){t.exports={filter:"Filter_filter__KoL3u",label:"Filter_label__n2Qpr",input:"Filter_input__2cOng"}},20:function(t,e,n){t.exports={item:"ContactItem_item__13kzl",info:"ContactItem_info__1916Y",delete:"ContactItem_delete__kqJLH"}},37:function(t,e,n){t.exports={list:"ContactList_list__1h6nF"}},38:function(t,e,n){t.exports={appear:"title_appear__3vipc",appearActive:"title_appearActive__mndpb"}},39:function(t,e,n){t.exports={enter:"pop_enter__hTBTU",enterActive:"pop_enterActive__1Fi2v",exit:"pop_exit__2OP8M",exitActive:"pop_exitActive__3nV6J"}},69:function(t,e,n){},70:function(t,e,n){},71:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n(8),r=n.n(a),o=n(12),s=n(13),u=n(15),i=n(14),l=n(9),b=n(3),d={fetchContactsRequest:Object(b.b)("contacts/fetchContactsRequest"),fetchContactsSuccess:Object(b.b)("contacts/fetchContactsSuccess"),fetchContactsError:Object(b.b)("contacts/fetchContactsError"),addContactRequest:Object(b.b)("contacts/addContactRequest"),addContactSuccess:Object(b.b)("contacts/addContactSuccess"),addContactError:Object(b.b)("contacts/addContactError"),deleteContactRequest:Object(b.b)("contacts/deleteContactRequest"),deleteContactSuccess:Object(b.b)("contacts/deleteContactSuccess"),deleteContactError:Object(b.b)("contacts/deleteContactError"),changeFilter:Object(b.b)("contacts/changeFilter"),resetFilter:Object(b.b)("contscts/resetFilter")},f=n(2),j=n(16),m=n.n(j),h=d.fetchContactsRequest,p=d.fetchContactsSuccess,O=d.fetchContactsError,C=d.addContactRequest,_=d.addContactSuccess,v=d.addContactError,x=d.deleteContactRequest,y=d.deleteContactSuccess,g=d.deleteContactError;m.a.defaults.baseURL="http://localhost:4040";var F,S,N,E,k=function(t){return function(e){e(x()),m.a.delete("/contacts/".concat(t)).then((function(){return e(y(t))})).catch((function(t){return e(g(t))}))}},q=Object(f.a)({fetchContacts:function(){return function(t){t(h()),m.a.get("/contacts").then((function(e){var n=e.data;return t(p(n))})).catch((function(e){return t(O(e))}))}},addContact:function(t){return function(e){e(C()),m.a.post("/contacts",t).then((function(t){var n=t.data;return e(_(n))})).catch((function(t){return e(v(t))}))}},deleteContact:k},"deleteContact",k),I=n(18),R=n(4),w=Object(b.c)([],(F={},Object(f.a)(F,d.fetchContactsSuccess,(function(t,e){return e.payload})),Object(f.a)(F,d.addContactSuccess,(function(t,e){return[e.payload].concat(Object(I.a)(t))})),Object(f.a)(F,d.deleteContactSuccess,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),F)),A=Object(b.c)("",(S={},Object(f.a)(S,d.changeFilter,(function(t,e){return e.payload})),Object(f.a)(S,d.resetFilter,(function(){return""})),S)),L=Object(b.c)(!1,(N={},Object(f.a)(N,d.fetchContactsRequest,(function(){return!0})),Object(f.a)(N,d.fetchContactsSuccess,(function(){return!1})),Object(f.a)(N,d.fetchContactsError,(function(){return!1})),Object(f.a)(N,d.addContactRequest,(function(){return!0})),Object(f.a)(N,d.addContactSuccess,(function(){return!1})),Object(f.a)(N,d.addContactError,(function(){return!1})),Object(f.a)(N,d.deleteContactRequest,(function(){return!0})),Object(f.a)(N,d.deleteContactSuccess,(function(){return!1})),Object(f.a)(N,d.deleteContactError,(function(){return!1})),N)),T=Object(b.c)(null,(E={},Object(f.a)(E,d.fetchContactsError,(function(t,e){return e.payload})),Object(f.a)(E,d.addContactError,(function(t,e){return e.payload})),Object(f.a)(E,d.deleteContactError,(function(t,e){return e.payload})),E)),J=Object(R.c)({items:w,filter:A,loading:L,error:T}),z=n(17),D=function(t){return t.contacts.items},P=function(t){return t.contacts.filter},W={getItems:D,getFilter:P,filteredItems:Object(z.a)([P,D],(function(t,e){var n=t.toLowerCase();return e.filter((function(t){return t.name.toLowerCase().includes(n)}))}))},U=n(36),V=n(10),B=n.n(V),M=n(26),H=n(1),K=function(t){Object(u.a)(n,t);var e=Object(i.a)(n);function n(){var t;Object(o.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:""},t.notifyWarn=function(t){return M.a.warn(t)},t.notifySuccess=function(t){return M.a.success(t)},t.handleChange=function(e){var n=e.currentTarget,c=n.name,a=n.value;"number"===c?t.setState(Object(f.a)({},c,a.replace(/[^\d-]/g,""))):t.setState(Object(f.a)({},c,a))},t.isValidContact=function(e){var n=e.name.toLowerCase(),c=e.number,a=t.props.items;return""===n||""===c?(t.notifyWarn("Please enter name and number"),!0):a.find((function(t){return t.name.toLowerCase()===n}))?(t.notifyWarn("".concat(e.name," is already in contacts.")),!0):void 0},t.reset=function(){t.setState({name:"",number:""})},t.handleSubmit=function(e){e.preventDefault();var n=Object(U.a)({},t.state);t.isValidContact(n)||((0,t.props.addContact)(n),t.notifySuccess("Added successfully"),t.reset())},t}return Object(s.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number;return Object(H.jsxs)("form",{onSubmit:this.handleSubmit,className:B.a.form,children:[Object(H.jsxs)("label",{className:B.a.label,children:["Name",Object(H.jsx)("input",{className:B.a.input,type:"text",name:"name",value:e,onChange:this.handleChange,id:this.nameInputId})]}),Object(H.jsxs)("label",{className:B.a.label,children:["Number",Object(H.jsx)("input",{className:B.a.input,type:"text",name:"number",value:n,onChange:this.handleChange,id:this.numberInputId})]}),Object(H.jsx)("button",{type:"submit",className:B.a.button,children:"Add contact"})]})}}]),n}(c.Component),Q=Object(l.b)((function(t){return{items:W.getItems(t)}}),(function(t){return{addContact:function(e){return t(q.addContact(e))}}}))(K),X=n(19),Y=n.n(X),G=function(t){Object(u.a)(n,t);var e=Object(i.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"componentWillUnmount",value:function(){this.props.resetFilter()}},{key:"render",value:function(){var t=this.props,e=t.filter,n=t.onChange;return Object(H.jsx)("div",{className:Y.a.filter,children:Object(H.jsxs)("label",{className:Y.a.label,htmlFor:"",children:["Find contacts by name",Object(H.jsx)("input",{className:Y.a.input,type:"text",name:"filter",value:e,onChange:n})]})})}}]),n}(c.Component),Z=Object(l.b)((function(t){return{filter:W.getFilter(t)}}),(function(t){return{onChange:function(e){return t(d.changeFilter(e.currentTarget.value))},resetFilter:function(){return t(d.resetFilter())}}}))(G),$=n(20),tt=n.n($),et=function(t){var e=t.name,n=t.number,c=t.onDelete;return Object(H.jsxs)("li",{className:tt.a.item,children:[Object(H.jsxs)("span",{className:tt.a.info,children:[e,": ",n]}),Object(H.jsx)("button",{className:tt.a.delete,onClick:c,type:"button",children:"X"})]})},nt=n(37),ct=n.n(nt),at=function(t){var e=t.contacts,n=t.deleteContact;return Object(H.jsx)("ul",{className:ct.a.list,children:e&&e.map((function(t){var e=t.id,c=t.name,a=t.number;return Object(H.jsx)(et,{name:c,number:a,onDelete:function(){return n(e)}},e)}))})},rt=Object(l.b)((function(t){return{contacts:W.filteredItems(t)}}),(function(t){return{deleteContact:function(e){return t(q.deleteContact(e))}}}))(at),ot=n(73),st=(n(69),n(38)),ut=n.n(st),it=n(39),lt=n.n(it),bt=function(t){Object(u.a)(n,t);var e=Object(i.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){var t=this.props.items;return Object(H.jsxs)("div",{className:"app",children:[Object(H.jsx)(ot.a,{in:!0,timeout:500,classNames:ut.a,appear:!0,children:Object(H.jsx)("h1",{className:"title",children:"Phonebook"})}),Object(H.jsx)(Q,{}),t.length>1&&Object(H.jsx)(ot.a,{in:!0,timeout:250,classNames:lt.a,unmountOnExit:!0,children:Object(H.jsx)(Z,{})}),t.length>0?Object(H.jsx)(rt,{}):Object(H.jsx)("p",{children:"The contact list is empty. Please add a new contact."})]})}}]),n}(c.Component),dt=Object(l.b)((function(t){return{items:W.getItems(t)}}),(function(t){return{fetchContacts:function(){return t(q.fetchContacts())}}}))(bt),ft=(n(70),n(11)),jt=Object(I.a)(Object(b.d)({serializableCheck:{ignoredActions:[ft.a,ft.f,ft.b,ft.c,ft.d,ft.e]}})),mt=Object(b.a)({reducer:{contacts:J},middleware:jt,devTools:!1});r.a.render(Object(H.jsx)(l.a,{store:mt,children:Object(H.jsx)(dt,{})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.98c3ed38.chunk.js.map